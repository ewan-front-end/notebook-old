<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game</title>
</head>
<body>
    <canvas id="myCanvas"></canvas>
</body>
</html>
<script type="module">
    import Game from './core/game.js'
    import Layer from './core/layer.js'
    import Group from './core/group.js'
    import Rect from './core/rect.js'
    import Circle from './core/circle.js'
    import Sprite from './core/sprite.js'
    import Img from './core/image.js'
    import Text from './core/text.js'
    import Polygon from './core/polygon.js'
    import {timerController} from './core/controls.js'

    



    // 舞台&设施
    
    //var layer = new Layer(0, 0, 100, 100)
    //var group = new Group('GROUP_1')
    var rect = new Rect(10, 10, 100, 50, {fill: '#f00', opacity: 0.5})
    rect.addEvent('mousemove', e => {
        console.log(e.type, '点击事件');
    })
    var circle = new Circle(500, 300, 100, {fill:'#000'})
    var sprite = new Sprite(100, 200, 200, 100, {fillStyle:'#0f0'})
    var image = new Img('./images/marry.png', 200, 300)
    var text = new Text('元素信息', 300, 100, {fill:'#f00', stroke:'#00f', font: "60px sans-serif", lineWidth:3})
    var timeline = new timerController(100, 460)
    sprite.skew(0.5)
    sprite.addChild(rect)

    var poly = new Polygon(50, 100, [
        [10,10],
        [100,50],
        [200,200],
        [150,300],
        [50,250],
        [10,100]
    ], {
        stroke: '#0f0',
        fill:'#f90',
        config: {
            closePath: true
        }
    })
    
    
    
    
    //rect.translate(100, 50)
    // rect.translate(100, 100)
    // rect.rotate(45)
    // rect.scale(3, 3)
    //rect.skew(0.5)
    //rect.alpha(0.5)
    
    
    let game = new Game({
        canvas: document.getElementById("myCanvas"), 
        width: 800, 
        height: 500,
        defaultScene: {
            background: {
                color: '#eee',
                image: './images/bg.jpg',
                position: [0, 100],
                size: ['100%', '100%'],
                repeat: 'no-repeat',
                origin: [0, 0],
                clip: null,
                attachment: null
            }
        },
        showGrid: false
    })
    //game.addChild(layer)
    //game.addChild(group)
    //game.addChild(rect)
    game.addChild(sprite)
    game.addChild(image)
    game.addChild(text)
    game.addChild(circle)
    game.addChild(poly)
    game.addChild(timeline)
    game.ready(() => {
        game.update()
    })
    

</script>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
       
    </style>
</head>
<body>
    <div class="business-center">
        {a:1,b:2,c:{d:4,e:{a:1,f:6}}}<br>
        {a:1,b:22,c:{d:4,e:{a:1,f:7}, g:7}}
    </div>
</body>
</html>
<script>
const diffPath = {}
function compareData(o, n, parent1, parent2) {
    let diff = {};
    let vChildren;
    for (var i in n) {
        if (i === 'path') continue
        let v1 = o[i], v2 = n[i]
        if (typeof v1 === "object" && typeof v2 === "object" && v1 && v2) {
            vChildren = compareData(v1, v2, o, n);
            if (Object.keys(vChildren).length > 0) {
                diff[i] = vChildren;
            }
        } else if (v1 !== v2) {
            diff[i] = v2
            if (v1 === undefined) {
                if (i === 'children') {
                    diffPath[o.path] = true
                    console.log(v2)
                } else {
                    console.log(parent1);
                    diffPath[parent1.path] = true
                    let parentPath = parent1.path, path = v2.children ? i + '/' : i
                    diffPath[parentPath + path] = true
                }                
            } else {
                diffPath[o.path] = true
            }
        }
    }
    return diff;
}


var o = {title: 'Home', src: 'index', path: '', children: {      
    css:{title:'CSS', src:'css', desc:'层叠样式表(Cascading Style Sheets)', children:{
        preset:{title:'预处理', src:'css-preset'},
        variable:{title:'CSS变量', src:'css-variable'}
    }},   
    system:{title:'系统&平台&工具', src:'system', children:{
        mac:{title:'MacBook',linkName:'MacBook', src:'system-mac'},
        linux:{title:'Linux',linkName:'Linux', src:'system-linux'},
        windows:{title:'Windows',linkName:'Windows', src:'system-windows'},
        ios:{title:'IOS',linkName:'IOS', src:'ios'},
        android:{title:'Android',linkName:'Android', src:'android'},
        google:{title:'Google',linkName:'Google', src:'google'}
    }} 
}}
var n = {title: 'Home', src: 'index', path: '', children: {      
    css:{title:'CSS', src:'css', desc:'层叠样式表(Cascading Style Sheets)', children:{
        preset:{title:'预处理', src:'css-preset', children:{
            abs: {title:'ABS',linkName:'abs', src:'mac-01'}
        }},
        variable:{title:'CSS变量', src:'css-variable'}
    }},   
    system:{title:'系统&平台&工具', src:'system', children:{
        mac:{title:'MacBook',linkName:'MacBook', src:'system-mac'},
        linux:{title:'Linux',linkName:'Linux', src:'system-linux'},
        windows:{title:'Windows',linkName:'Windows', src:'system-windows'},
        ios:{title:'IOS',linkName:'IOS', src:'ios'},
        android:{title:'Android',linkName:'Android', src:'android'},
        google:{title:'Google',linkName:'Google', src:'google'}
    }} 
}}


// 生成路径
function handleDataChildren(node) {
    if (node.children) {
        node.path += '/'
        for (key in node.children) { handleData(key, node.children[key], node) }
    }    
}
function handleData(key, node, parent) {
    node.path = parent ? parent.path + key : ''
    handleDataChildren(node)
}
handleData('', o, null)



var arr = compareData(o, n)
//console.log(arr)
console.log(Object.keys(diffPath))

</script>
